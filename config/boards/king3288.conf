# king3288.conf
# Base Info =====================================================================================================================================
_G_BOARD_DESCRIPTION="RP King3288 board"
_G_ARCH="armhf"
# Repository Info ===============================================================================================================================
_G_GIT_PROTOCOL="https"
_G_GIT_REPOSITORY_DOMAIN="github.com"
_G_ORGANIZATION="BoardHome"
_G_RP_REPO_NM="git-repo"
_G_RP_REPO_BH="stable"
_G_RP_MANIFESTS_NM="manifests"
_G_RP_MANIFESTS_BH="main"
__CF_MANIFESTS_FLS="rk3288_bsp_release.xml"
# Packages Info =================================================================================================================================
# __PG_CS_TC_NM_LIST=("gcc-linaro-6.3.1-2017.05-x86_64_arm-linux-gnueabihf")
# declare -A __PG_CS_TC_LIST=(["gcc-linaro-6.3.1-2017.05-x86_64_arm-linux-gnueabihf"]="${CODE_PATH}/prebuilts/gcc/linux-x86/arm/")
# Config Info ===================================================================================================================================
__CF_BUILD_DF_NM="BoardConfig_king3288_ubuntu.mk"
# Output File Info ==============================================================================================================================
__OP_IMG_PH="${CODE_PATH}/rockdev/"
__OP_IMG_FLS="${CODE_PATH}/rockdev/update.img"
# Rootfs Config Info ============================================================================================================================
_G_ROOTFS_RELEASE="18.04.5" # ubuntu version
_G_ROOTFS_BASE_PG_NM="ubuntu-base-$_G_ROOTFS_RELEASE-base-$_G_ARCH.tar.gz"
__PG_CS_TC_NM_LIST=("$_G_ROOTFS_BASE_PG_NM")
declare -A __PG_CS_TC_LIST=(["$_G_ROOTFS_BASE_PG_NM"]="${CODE_PATH}/ubuntu/")
_G_ROOTFS_TARGET_TYPE="server"
_G_ROOTFS_DEBUG_TAG="debug"
_G_SECURE_TTY_LIST=("ttyS0" "ttyS1")
# Process Handle ================================================================================================================================
source src/log

__build_cmd() {
    local options_tmp="$@"
    local options=${options_tmp:-help}
    [ -f $CODE_PATH/build.sh ] || {
        log_ "!!! Downloading the sdk source code will show that the command"
        return 1
    }
    [ "$options" == "help" ] && $CODE_PATH/build.sh $options && return 0
    log_info "board: <${_G_BOARD_DESCRIPTION}> build cmd<$options>..."
    cd "${CODE_PATH}/" && debug "entry ${CODE_PATH}/"
    $CODE_PATH/build.sh $options & \
        log_info "board: <${_G_BOARD_DESCRIPTION}> build cmd<$options> success"
    rollback_dir && debug "entry $(pwd)"
    return 0
}
